{{!< layouts/post}}
{{!-- The tag above means - insert everything in this file into the {body} of the layout/default.hbs template --}}

{{!-- Post Content --}}
{{#post}}
  <main
    class="content"
    id="content"
    role="main"
  >
    <article
      class="post {{#if feature_image}}has-thumbnail{{/if}}"
      id="{{id}}-{{slug}}"
    >
      <header
        class="post__header"
        {{#if feature_image}}
          style="background-image: url('{{feature_image}}');"
        {{/if}}
      >
        {{#if featured}}
          <div class="post__label">Featured</div>
        {{else}}
          {{#has tag="#blog"}}
              <div class="post__label">Blog</div>
          {{/has}}

          {{#has tag="#case-study"}}
              <div class="post__label">Case Study</div>
          {{/has}}

          {{#has tag="#freebie"}}
              <div class="post__label">Freebie</div>
          {{/has}}

          {{#has tag="#tutorial"}}
              <div class="post__label">Tutorial</div>
          {{/has}}
        {{/if}}

        <h1 class="post__title">{{title}}</h1>

        {{!-- TODO, @ghost needs to add sub-title support --}}
        {{!-- <h2 class="post__sub-title">{{sub-title}}</h2> --}}
        <time
          class="post__date"
          datetime="{{date format="YYYY-MM-DD"}}"
        >
          {{date format="MMMM, DD YYYY"}}
        </time>
      </header>

      <section class="post__content">
        {{content}}
      </section>

      {{!--
      <footer class="post__footer">
        {{> author}}
        {{> social-share}}
        {{> subscribe}}
      </footer>
      --}}
    </article>
  </main>

  <script type="text/javascript">
    window.post = {
      id: {{id}},
      excerpt: {{excerpt}},
      title: {{title}},
      url: {{url}},
    };
  </script>
{{/post}}
